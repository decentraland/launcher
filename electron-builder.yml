productName: Decentraland Launcher
artifactName: "Decentraland Launcher-${os}-${arch}.${ext}"
executableName: Decentraland Launcher

directories:
  output: dist
  buildResources: buildResources

files:
  - packages/**/dist/**

win:
  publisherName: "Decentraland Foundation"
  appId: Decentraland.Launcher
  icon: buildResources/icon.ico
  target: 
    - target: nsis
      arch:
        - x64
  verifyUpdateCodeSignature: false
  signAndEditExecutable: true
  signingHashAlgorithms: 
    - sha256
  rfc3161TimeStampServer: "http://ts.ssl.com"
  timeStampServer: "http://ts.ssl.com"
  extraResources:
    - buildResources/icon.ico

nsis:
  allowElevation: true
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  oneClick: false
  perMachine: true
  include: buildResources/scripts/windowsInstaller.nsh
  deleteAppDataOnUninstall: true
  installerSidebar: buildResources/background.bmp

mac:
  appId: com.Decentraland.Launcher
  icon: buildResources/icon.icns
  target: 
    - target: default
      arch:
        - x64
        - arm64
  hardenedRuntime: true
  entitlements: buildResources/entitlements.mac.plist
  extendInfo:
    - NSMicrophoneUsageDescription: "Need microphone access to use voice chat in the application"
  extraResources:
    - icon.icns

dmg:
  title: Decentraland Launcher Installer
  background: buildResources/background.png
  window:
    width: 510
    height: 410
  contents:
    - x: 160
      y: 190
      type: file
    - x: 340
      y: 190
      type: link
      path: /Applications

publish:
  - provider: github
    vPrefixedTagName: false
